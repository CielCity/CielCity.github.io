<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="Growth is the accumulation of">
    

    <!--Author-->
    
        <meta name="author" content="Ciel City">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="CielCity"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Growth is the accumulation of" />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="CielCity"/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>CielCity</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about.html">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact.html">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">CielCity</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2017/02/17/Dubbo详解/">
                Dubbo与Zookeeper、SpringMVC整合和使用（负载均衡、容错）
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2017-02-17</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>DUBBO是一个分布式服务框架，致力于提供高性能和透明化的RPC远程服务调用方案，是阿里巴巴SOA服务化治理方案的核心框架，每天为2,000+个服务提供3,000,000,000+次访问量支持，并被广泛应用于阿里巴巴集团的各成员站点。</p>
<h2 id="介绍Dubbo背景"><a href="#介绍Dubbo背景" class="headerlink" title="介绍Dubbo背景"></a>介绍Dubbo背景</h2><p>大规模服务化之前，应用可能只是通过RMI或Hessian等工具，简单的暴露和引用远程服务，通过配置服务的URL地址进行调用，通过F5等硬件进行负载均衡。</p>
<h3 id="1-当服务越来越多时，服务URL配置管理变得非常困难，F5硬件负载均衡器的单点压力也越来越大。"><a href="#1-当服务越来越多时，服务URL配置管理变得非常困难，F5硬件负载均衡器的单点压力也越来越大。" class="headerlink" title="(1) 当服务越来越多时，服务URL配置管理变得非常困难，F5硬件负载均衡器的单点压力也越来越大。"></a>(1) 当服务越来越多时，服务URL配置管理变得非常困难，F5硬件负载均衡器的单点压力也越来越大。</h3><p>此时需要一个服务注册中心，动态的注册和发现服务，使服务的位置透明。<br>并通过在消费方获取服务提供方地址列表，实现软负载均衡和Failover，降低对F5硬件负载均衡器的依赖，也能减少部分成本。</p>
<h3 id="2-当进一步发展，服务间依赖关系变得错踪复杂，甚至分不清哪个应用要在哪个应用之前启动，架构师都不能完整的描述应用的架构关系。"><a href="#2-当进一步发展，服务间依赖关系变得错踪复杂，甚至分不清哪个应用要在哪个应用之前启动，架构师都不能完整的描述应用的架构关系。" class="headerlink" title="(2) 当进一步发展，服务间依赖关系变得错踪复杂，甚至分不清哪个应用要在哪个应用之前启动，架构师都不能完整的描述应用的架构关系。"></a>(2) 当进一步发展，服务间依赖关系变得错踪复杂，甚至分不清哪个应用要在哪个应用之前启动，架构师都不能完整的描述应用的架构关系。</h3><p>这时，需要自动画出应用间的依赖关系图，以帮助架构师理清理关系。</p>
<h3 id="3-接着，服务的调用量越来越大，服务的容量问题就暴露出来，这个服务需要多少机器支撑？什么时候该加机器？"><a href="#3-接着，服务的调用量越来越大，服务的容量问题就暴露出来，这个服务需要多少机器支撑？什么时候该加机器？" class="headerlink" title="(3) 接着，服务的调用量越来越大，服务的容量问题就暴露出来，这个服务需要多少机器支撑？什么时候该加机器？"></a>(3) 接着，服务的调用量越来越大，服务的容量问题就暴露出来，这个服务需要多少机器支撑？什么时候该加机器？</h3><p>为了解决这些问题，第一步，要将服务现在每天的调用量，响应时间，都统计出来，作为容量规划的参考指标。<br>其次，要可以动态调整权重，在线上，将某台机器的权重一直加大，并在加大的过程中记录响应时间的变化，直到响应时间到达阀值，记录此时的访问量，再以此访问量乘以机器数反推总容量。</p>
<h2 id="Dubbo的简介"><a href="#Dubbo的简介" class="headerlink" title="Dubbo的简介"></a>Dubbo的简介</h2><p>Dubbo是一个分布式服务框架,解决了上面的所面对的问题，Dubbo的架构如图所示：<img src="http://static.oschina.net/uploads/img/201110/30093737_2LhG.jpg" alt=""></p>
<h3 id="节点角色说明："><a href="#节点角色说明：" class="headerlink" title="节点角色说明："></a>节点角色说明：</h3><ul>
<li>Provider: 暴露服务的服务提供方。</li>
<li>Consumer: 调用远程服务的服务消费方。</li>
<li>Registry: 服务注册与发现的注册中心。</li>
<li>Monitor: 统计服务的调用次调和调用时间的监控中心。</li>
<li>Container: 服务运行容器。</li>
</ul>
<h3 id="调用关系说明："><a href="#调用关系说明：" class="headerlink" title="调用关系说明："></a>调用关系说明：</h3><ol>
<li>服务容器负责启动，加载，运行服务提供者。</li>
<li>服务提供者在启动时，向注册中心注册自己提供的服务。</li>
<li>服务消费者在启动时，向注册中心订阅自己所需的服务。</li>
<li>注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。</li>
<li>服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。</li>
<li>服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心。</li>
</ol>
<p>我们之前没用Dubbo之前时，大部分都使用Hessian来使用我们服务的暴露和调用，利用HessianProxyFactory调用远程接口。</p>
<p>上面是参考了Dubbo官方网介绍，接下来我们来介绍SpringMVC、Dubbo、Zookeeper整合使用。</p>
<h2 id="Dubbo与Zookeeper、SpringMVC整合使用"><a href="#Dubbo与Zookeeper、SpringMVC整合使用" class="headerlink" title="Dubbo与Zookeeper、SpringMVC整合使用"></a>Dubbo与Zookeeper、SpringMVC整合使用</h2><h3 id="第一步：在Linux上安装Zookeeper"><a href="#第一步：在Linux上安装Zookeeper" class="headerlink" title="第一步：在Linux上安装Zookeeper"></a>第一步：在Linux上安装Zookeeper</h3><p> Zookeeper作为Dubbo服务的注册中心，Dubbo原先基于数据库的注册中心，没采用Zookeeper，Zookeeper一个分布式的服务框架，是树型的目录服务的数据存储，能做到集群管理数据 ，这里能很好的作为Dubbo服务的注册中心，Dubbo能与Zookeeper做到集群部署，当提供者出现断电等异常停机时，Zookeeper注册中心能自动删除提供者信息，当提供者重启时，能自动恢复注册数据，以及订阅请求。我们先在linux上安装Zookeeper，我们安装最简单的单点，集群比较麻烦。</p>
<ol>
<li>下载Zookeeper-3.4.6.tar.gz  地址<a href="http://www.apache.org/dist/zookeeper/" target="_blank" rel="external">http://www.apache.org/dist/zookeeper/</a></li>
<li>我们放到Linux下的一个文件夹，然后解压：<br>   #tar zxvf zookeeper-3.4.6.tar.gz</li>
<li>然后在对应的zookeeper-3.4.6/conf 下有一个文件zoo_sample.cfg的这个文件里面配置了监听客户端连接的端口等一些信息，Zookeeper 在启动时会找zoo.cfg这个文件作为默认配置文件,所以我们复制一个名称为zoo.cfg的文件，如图所示：<img src="http://img.blog.csdn.net/20141114081515468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="">                                            </li>
</ol>
<pre><code>我们查看一下这个文件的里面的一些配置信息，如图所示:  
</code></pre><p><img src="http://img.blog.csdn.net/20141114081527231?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<pre><code>说明：

clientPort：监听客户端连接的端口。
tickTime：基本事件单元，以毫秒为单位。它用来控制心跳和超时，默认情况下最小的会话超时时间为两倍的 tickTime。

  我们可以对配置文件的端口等或者进行高级配置和集群配置例如：maxclientcnxns：限制连接到 zookeeper 的客户端的数量等
</code></pre><ol>
<li><p>启动Zookeeper 的服务，如图所示：                                                                                    </p>
<p> <img src="http://img.blog.csdn.net/20141114081600156?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br> 到这边Zookeeper的安装和配置完成</p>
<h3 id="第二步：配置dubbo-admin的管理页面，方便我们管理页面"><a href="#第二步：配置dubbo-admin的管理页面，方便我们管理页面" class="headerlink" title="第二步：配置dubbo-admin的管理页面，方便我们管理页面"></a>第二步：配置dubbo-admin的管理页面，方便我们管理页面</h3><ol>
<li>下载dubbo-admin-2.4.1.war包，在Linux的tomcat部署，先把dubbo-admin-2.4.1放在tomcat的webapps/ROOT下，然后进行解压：      #jar -xvf dubbo-admin-2.4.1.war</li>
<li>然后到webapps/ROOT/WEB-INF下，有一个dubbo.properties文件，里面指向Zookeeper ，使用的是Zookeeper 的注册中心，如图所示：<br><img src="http://img.blog.csdn.net/20141114081552940?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></li>
<li><p>然后启动tomcat服务，用户名和密码：root,并访问服务，显示登陆页面，说明dubbo-admin部署成功，如图所示：<br><img src="http://img.blog.csdn.net/20141114081605560?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>
<h3 id="第三步：SpringMVC与Dubbo的整合，这边使用的Maven的管理项目"><a href="#第三步：SpringMVC与Dubbo的整合，这边使用的Maven的管理项目" class="headerlink" title="第三步：SpringMVC与Dubbo的整合，这边使用的Maven的管理项目"></a>第三步：SpringMVC与Dubbo的整合，这边使用的Maven的管理项目</h3><ol>
<li><p>我们先开发服务注册的，就是提供服务，项目结构如图所示：<br><img src="http://img.blog.csdn.net/20141114081622190?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>(1)test-maven-api项目加入了一个服务接口，代码如下：</p>
<p>public interface TestRegistryService {<br>   public String hello(String name);<br>}<br>(2)test-maven-console在pom.xml加入Dubbo和Zookeeper的jar包、引用test-maven-api的jar包，代码如下：</p>
<p><dependency><br>  <groupid>cn.test</groupid><br>  <artifactid>test-maven-api</artifactid><br>  <version>0.0.1-SNAPSHOT</version><br></dependency><br><dependency><br>  <groupid>com.alibaba</groupid><br>  <artifactid>dubbo</artifactid><br>  <version>2.5.3</version><br></dependency><br><dependency><br>  <groupid>org.apache.zookeeper</groupid><br>  <artifactid>zookeeper</artifactid><br>  <version>3.4.6</version><br></dependency><br><dependency><br>  <groupid>com.github.sgroschupf</groupid><br>  <artifactid>zkclient</artifactid><br>  <version>0.1</version><br></dependency><br>(3)test-maven-console实现具体的服务，代码如下：</p>
<p>@Service(“testRegistryService”)<br>ublic class TestRegistryServiceImpl implements TestRegistryService {<br>public String hello(String name) {<br>  return “hello”+name;<br>}  </p>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>(4)我们服务以及实现好了，这时要暴露服务，代码如下：</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; 
 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   
    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;  
    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;  
    &lt;span style=&quot;color:#cc0000;&quot;&gt;xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot;&lt;/span&gt;  
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd  
    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd  
    http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd  
    &lt;span style=&quot;color:#990000;&quot;&gt;http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&lt;/span&gt;  
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;  
    default-lazy-init=&quot;false&quot; &gt;  
   &lt;!-- 提供方应用名称信息，这个相当于起一个名字，我们dubbo管理页面比较清晰是哪个应用暴露出来的 --&gt;  
   &lt;dubbo:application name=&quot;dubbo_provider&quot;&gt;&lt;/dubbo:application&gt;  
   &lt;!-- 使用zookeeper注册中心暴露服务地址 --&gt;    
   &lt;dubbo:registry address=&quot;zookeeper://127.0.0.1:2181&quot; check=&quot;false&quot; subscribe=&quot;false&quot; register=&quot;&quot;&gt;&lt;/dubbo:registry&gt;  
  &lt;!-- 要暴露的服务接口 --&gt;    
  &lt;dubbo:service interface=&quot;cn.test.dubbo.registry.service.TestRegistryService&quot; ref=&quot;testRegistryService&quot; /&gt;        
&lt;/beans&gt;
</code></pre><p>说明：  </p>
<p>dubbo:registry 标签一些属性的说明： </p>
<p>1）register是否向此注册中心注册服务，如果设为false，将只订阅，不注册。<br>2）check注册中心不存在时，是否报错。<br>3）subscribe是否向此注册中心订阅服务，如果设为false，将只注册，不订阅。<br>4）timeout注册中心请求超时时间(毫秒)。<br> 5）address可以Zookeeper集群配置，地址可以多个以逗号隔开等。  </p>
<p>dubbo:service标签的一些属性说明：   </p>
<p>1）interface服务接口的路径<br>2）ref引用对应的实现类的Bean的ID<br>3）registry向指定注册中心注册，在多个注册中心时使用，值为<dubbo:registry>的id属性，多个注册中心ID用逗号分隔，如果不想将该服务注册到任何registry，可将值设为N/A<br>4）register 默认true ，该协议的服务是否注册到注册中心。</dubbo:registry></p>
<p>(5)启动项目，然后我们在Dubbo管理页面上显示，已经暴露的服务，但显示还没有消费者，因为我们还没实现消费者服务，如图所示：<br><img src="http://img.blog.csdn.net/20141114081644014?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="">  </p>
<p>2.我们在开发服务消费者，就是调用服务，我们在新建一个新的消费者项目结构如图所示：<br><img src="http://img.blog.csdn.net/20141114081659536?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>（1）test-maven-server-console的pom.xml引入Dubbo和Zookeeper的jar包、test-maven-api的jar包，因为引入test-maven-api的jar包，我们在项目中调用像在本地调用一样。代码如下：</p>
<pre><code>&lt;dependency&gt;  
    &lt;groupId&gt;cn.test&lt;/groupId&gt;  
    &lt;artifactId&gt;test-maven-api&lt;/artifactId&gt;  
    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;  
&lt;/dependency&gt;  
&lt;dependency&gt;  
    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;  
    &lt;artifactId&gt;dubbo&lt;/artifactId&gt;  
    &lt;version&gt;2.5.3&lt;/version&gt;  
&lt;/dependency&gt;  
&lt;dependency&gt;  
    &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;  
    &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;  
    &lt;version&gt;3.4.6&lt;/version&gt;  
&lt;/dependency&gt;  
&lt;dependency&gt;  
    &lt;groupId&gt;com.github.sgroschupf&lt;/groupId&gt;  
    &lt;artifactId&gt;zkclient&lt;/artifactId&gt;  
    &lt;version&gt;0.1&lt;/version&gt;  
&lt;/dependency&gt;    
</code></pre><p>  （2）test-maven-server-console项目的具体实现，代码如下：</p>
<pre><code>@Controller  
public class IndexController {  

    @Autowired  
    private TestRegistryService testRegistryService;  

    @RequestMapping(&quot;/hello&quot;)  
    public String index(Model model){  
         String name=testRegistryService.hello(&quot;zz&quot;);  
         System.out.println(&quot;xx==&quot;+name);  
        return &quot;&quot;;  
    }  

}   
</code></pre><p>(3)我们要引用的地址，代码如下：  </p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; 
xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   
    xmlns:jee=&quot;http://www.springframework.org/schema/jee&quot;  
    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;  
    &lt;span style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;color:#990000;&quot;&gt;xmlns:dubbo=&quot;http://code.alibabatech.com/schema/dubbo&quot;&lt;/span&gt;&lt;/span&gt;  
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;  
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd  
    http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd  
    http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.1.xsd  
    &lt;span style=&quot;color:#990000;&quot;&gt;http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd&lt;/span&gt;  
    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd&quot;  
    default-lazy-init=&quot;false&quot; &gt;  

   &lt;dubbo:application name=&quot;dubbo_consumer&quot;&gt;&lt;/dubbo:application&gt;  
   &lt;!-- 使用zookeeper注册中心暴露服务地址 --&gt;    
   &lt;dubbo:registry address=&quot;zookeeper://192.168.74.129:2181&quot; check=&quot;false&quot;&gt;&lt;/dubbo:registry&gt;   
     &lt;!-- 要引用的服务 --&gt;    
   &lt;dubbo:reference interface=&quot;cn.test.dubbo.registry.service.TestRegistryService&quot; id=&quot;testRegistryService&quot;&gt;&lt;/dubbo:reference&gt;  
&lt;/beans&gt;         
</code></pre><p>说明：<br>dubbo:reference 的一些属性的说明：<br>      1）interface调用的服务接口<br>      2）check 启动时检查提供者是否存在，true报错，false忽略<br>      3）registry 从指定注册中心注册获取服务列表，在多个注册中心时使用，值为<dubbo:registry>的id属性，多个注册中心ID用逗号分隔<br>      4）loadbalance 负载均衡策略，可选值：random,roundrobin,leastactive，分别表示：随机，轮循，最少活跃调用 </dubbo:registry></p>
<p>(4)项目启动，Dubbo管理页面，能看到消费者，如图所示：  </p>
<p><img src="http://img.blog.csdn.net/20141114081750156?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="">  </p>
<p>(5)然后访问消费者项目，Controller层能像调用本地一样调用服务的具体实现，如图所示：</p>
<p> <img src="http://img.blog.csdn.net/20141114081749612?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="">  </p>
<p>Dubbo提供了多种容错方案,包括负载均衡这些，如图所示：  </p>
<p><img src="http://img.blog.csdn.net/20141114081802935?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvY29uZ2Nvbmc2OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""></p>

        </div>
    

</div>
            
        </section>
    </div>
</div>






</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2017/02/17/Dubbo详解/">Dubbo与Zookeeper、SpringMVC</a>
            </li>
            
        </ul>
    </div>



            
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>